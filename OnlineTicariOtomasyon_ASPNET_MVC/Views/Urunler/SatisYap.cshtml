@using OnlineTicariOtomasyon_ASPNET_MVC.Models.Siniflar
@model SatisHareket
@{
    ViewBag.Title = "SatisYap";
    Layout = "~/Views/Shared/AdminLayout.cshtml";
}
<br />
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="~/Scripts/jquery-3.4.1.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="~/Scripts/SweetAlertEkle.js"></script>
<h2>Yeni Satış Sayfası</h2>
<hr />
<form class="form-group" method="POST">
    <div class="form-group">
        <label class="labelAciklama">Ürün Adı</label>
        <input class="form-control" name="UrunID" readonly="readonly" value=@ViewBag.urunid />
    </div>
    <div class="form-group">
        <label class="labelAciklama">Personel</label>
        @Html.DropDownListFor(x => x.PersonelID, (List<SelectListItem>)ViewBag.personel, new { @class = "form-control", @style = "background-color: #f5f0f0" })
    </div>
    <div class="form-group">
        <label class="labelAciklama">Cari</label>
        @Html.TextBoxFor(x => x.CariID, new { @class = "form-control" })
    </div>
    <div class="form-group">
        <label class="labelAciklama">Adet</label>
        @*@Html.TextBoxFor(x => x.Adet, new { @class = "form-control" })*@
        <input type="number" class="form-control" name="Adet" min="0" max="100" placeholder="Adet giriniz" id="adetBilgisi" onkeyup="sum()" onchange="sum()" />
    </div>
    <div class="form-group">
        <label class="labelAciklama">Fiyat</label>
        <input class="form-control" name="Fiyat" value=@ViewBag.fiyat id="fiyatBilgisi" onkeyup="sum()" />
    </div>
    <div class="form-group">
        <label class="labelAciklama">Toplam Tutar</label>
        @Html.TextBoxFor(x => x.ToplamTutar, new { @class = "form-control", @id = "toplamTutar", @readonly = "readonly" })
    </div>
    <div class="form-group">
        @Html.HiddenFor(x => x.Durum)
    </div>
    <br />
    <button id="Button3" runat="server" class="btn btn-primary btn-block" onclick="return conFunction(this);">Kaydet</button>
</form>
<br />
<script type="text/javascript">
    function sum() {
        var fiyat = document.getElementById('fiyatBilgisi').value;
        var adet = document.getElementById('adetBilgisi').value;

        var sonuc = parseInt(fiyat) * parseInt(adet);
        if (!isNaN(sonuc)) {
            document.getElementById("toplamTutar").value = sonuc;
        }
    }
</script>
